# Refactor 29-10-2025

## Objetivo
Documentar oportunidades de refactor y simplificación detectadas durante la sesión para asegurar que el proyecto siga siendo expandible, mantenible y legible.

## Backend
- [x] Unificar el registro de analizadores por extensión en un módulo dedicado para desacoplar `ProjectScanner`.
- [x] Crear un mecanismo centralizado para gestionar dependencias opcionales (`esprima`, `tree_sitter_languages`, `beautifulsoup4`) y exponer capacidades activas en `/status`.
- [x] Reducir la responsabilidad de `AppState` extrayendo gestores de settings/status o documentando claramente cada bloque.
- [x] Separar las rutas de FastAPI por dominio (`analysis`, `settings`, `preview`) para mejorar legibilidad.
- [x] Añadir cobertura de tests para `PUT /settings` con `exclude_dirs` y nuevos casos del endpoint `/preview`.
- [x] Revisar el logging para evitar warnings repetidos cuando faltan analizadores opcionales.

## Frontend
- [x] Modularizar `SettingsView` (subcomponentes para root, docstrings, exclusiones) y permitir editar `exclude_dirs` desde la UI con experiencia amigable.
- [x] Unificar la obtención de `settings` y `status` (hook/estado global) y aislar componentes como `StatusPanel` y `Preview`.
- [x] Revisar el `iframe` de previsualización (atributos `sandbox`, fallback para tipos no soportados).
- [x] Organizar estilos (dividir el CSS o estudiar CSS Modules/Tailwind).
- [x] Configurar ESLint/Prettier y añadir tests de componentes (Vitest/React Testing Library).

## Otros
- [x] Documentar las dependencias opcionales y scripts de instalación rápida dentro de README/backend_quickstart.
- [x] Mantener un changelog/backlog con las ideas futuras para priorizarlas tras el refactor.

## Próximos pasos sugeridos
1. Refactor concluido el 29/10/2025.
2. Revisar periódicamente el changelog/backlog para planificar iteraciones futuras.
